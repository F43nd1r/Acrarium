version: "3.7"

services:
  acrarium:
    build: .
    container_name: acrarium
    network_mode: host
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/test?useSSL=false&allowPublicKeyRetrieval=true&useLegacyDatetimeCode=false&serverTimezone=UTC
      SPRING_DATASOURCE_USERNAME: acra
      SPRING_DATASOURCE_PASSWORD: 1qay2wsx
      SPRING_JPA_DATABASE-PLATFORM: org.hibernate.dialect.MariaDB10Dialect
      SPRING_APPLICATION_JSON: '{ "management": { "endpoints": { "enabled-by-default": true }, "endpoint": { "health": { "show-details": "always", "probes": { "enabled": true } } }, "health": { "livenessState": { "enabled": true }, "readinessState": { "enabled": true } } } }'
    restart: unless-stopped  
